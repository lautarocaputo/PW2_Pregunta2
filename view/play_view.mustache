{{> header}}

<div class="container">
    <div class="text-center">
        <div class="text-center">
            <h1 class="mt-5">Arranca el Pregunta2</h1>
            <p>Temporizador: <span id="temporizador">{{tiempoRestante}}</span> segundos</p>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            {{#pregunta}}
                <div class="card mt-3">
                    <div class="card-body">
                        <h3 class="card-title">Pregunta</h3>
                        <p class="card-text">{{Pregunta_texto}}</p>
                    </div>
                </div>

            <div class="card mt-3">
            <div class="card-body">
                <h3>Seleccione Respuesta</h3>
                <form action="/play/validarRespuesta?preguntaID={{Pregunta_ID}}&puntos={{Puntos}}" method="POST">
            {{/pregunta}}
            {{#respuestas}}
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="respuestaID" value="{{Respuesta_ID}}" id="respuesta{{Respuesta_ID}}">
                    <label class="form-check-label" for="respuesta{{Respuesta_ID}}">
                        {{Respuesta_texto}}
                    </label>
                </div>
            {{/respuestas}}
            <button type="submit" id="enviarBtn" class="btn btn-primary mt-3">Enviar</button>
            </form>
        </div>
        </div>
        </div>
    </div>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const radios = document.querySelectorAll('input[type="radio"]');
        const enviarBtn = document.getElementById("enviarBtn");

        function updateButtonState() {
            const respuestaSeleccionada = [...radios].some(radio => radio.checked);
            enviarBtn.disabled = !respuestaSeleccionada;
            enviarBtn.style.backgroundColor = respuestaSeleccionada ? "" : "gray";
        }

        radios.forEach(function (radio) {
            radio.addEventListener("change", updateButtonState);
        });

        updateButtonState();
    });
</script>
<script>
    var temporizador = document.getElementById("temporizador");
    var tiempo = parseInt(temporizador.textContent);
    var intervalo = setInterval(function () {
        tiempo--;
        temporizador.textContent = tiempo;
        if (tiempo === 0) {
            clearInterval(intervalo);
            document.getElementById("enviarBtn").click();
        }
    }, 1000);
</script>